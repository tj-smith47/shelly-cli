.nh
.TH "SHELLY" "1" "Dec 2025" "Shelly CLI" "User Commands"

.SH NAME
shelly-discover-http - Discover devices via HTTP subnet scanning


.SH SYNOPSIS
\fBshelly discover http [subnet] [flags]\fP


.SH DESCRIPTION
Discover Shelly devices by probing HTTP endpoints on a subnet.

.PP
If no subnet is provided, attempts to detect the local network.
This method is slower than mDNS or CoIoT but works when multicast
is blocked or devices are on different VLANs.

.PP
The scan probes each IP address in the subnet range for Shelly device
HTTP endpoints. Progress is shown in real-time. Discovered devices
can be automatically registered with --register.

.PP
Use --skip-existing (enabled by default) to avoid re-registering
devices that are already in your registry.

.PP
Output is formatted as a table showing: ID, Address, Model, Generation,
Protocol, and Auth status.


.SH OPTIONS
\fB-h\fP, \fB--help\fP[=false]
	help for http

.PP
\fB--register\fP[=false]
	Automatically register discovered devices

.PP
\fB--skip-existing\fP[=true]
	Skip devices already registered

.PP
\fB-t\fP, \fB--timeout\fP=2m0s
	Scan timeout


.SH OPTIONS INHERITED FROM PARENT COMMANDS
\fB--config\fP=""
	Config file (default $HOME/.config/shelly/config.yaml)

.PP
\fB--log-categories\fP=""
	Filter logs by category (comma-separated: network,api,device,config,auth,plugin)

.PP
\fB--log-json\fP[=false]
	Output logs in JSON format

.PP
\fB--no-color\fP[=false]
	Disable colored output

.PP
\fB-o\fP, \fB--output\fP="table"
	Output format (table, json, yaml, template)

.PP
\fB-q\fP, \fB--quiet\fP[=false]
	Suppress non-essential output

.PP
\fB--template\fP=""
	Go template string for output (use with -o template)

.PP
\fB-v\fP, \fB--verbose\fP[=0]
	Increase verbosity (-v=info, -vv=debug, -vvv=trace)


.SH EXAMPLE
.EX
  # Scan default network (auto-detect)
  shelly discover http

  # Scan specific subnet
  shelly discover http 192.168.1.0/24

  # Scan a /16 network (large, use longer timeout)
  shelly discover http 10.0.0.0/16 --timeout 30m

  # Auto-register discovered devices
  shelly discover http --register

  # Using 'scan' alias
  shelly discover scan --timeout 5m

  # Force re-register all discovered devices
  shelly discover http --register --skip-existing=false

  # Combine flags for initial network setup
  shelly discover http 192.168.1.0/24 --register --timeout 10m
.EE


.SH SEE ALSO
\fBshelly-discover(1)\fP
