.nh
.TH "SHELLY" "1" "Dec 2025" "Shelly CLI" "User Commands"

.SH NAME
shelly-discover - Discover Shelly devices on the network


.SH SYNOPSIS
\fBshelly discover [flags]\fP


.SH DESCRIPTION
Discover Shelly devices using various protocols.

.PP
By default, uses HTTP subnet scanning which works reliably even when
multicast is blocked. Automatically detects the local subnet.

.PP
Available discovery methods (--method):
  http   - HTTP subnet scanning (default, works everywhere)
  mdns   - mDNS/Zeroconf discovery (Gen2+ devices)
  ble    - Bluetooth Low Energy discovery (provisioning mode)
  coiot  - CoIoT/CoAP discovery (Gen1 devices)

.PP
Plugin-managed devices (e.g., Tasmota, ESPHome) can also be discovered
if the corresponding plugin is installed. Use --skip-plugins to disable
plugin detection, or --platform to filter by specific platform.


.SH OPTIONS
\fB-h\fP, \fB--help\fP[=false]
	help for discover

.PP
\fB-m\fP, \fB--method\fP="http"
	Discovery method: http, mdns, ble, coiot

.PP
\fB-p\fP, \fB--platform\fP=""
	Only discover devices of this platform (e.g., tasmota)

.PP
\fB--register\fP[=false]
	Auto-register discovered devices

.PP
\fB--skip-existing\fP[=true]
	Skip devices already registered

.PP
\fB--skip-plugins\fP[=false]
	Skip plugin detection (Shelly-only discovery)

.PP
\fB--subnet\fP=""
	Subnet to scan (auto-detected if not specified)

.PP
\fB-t\fP, \fB--timeout\fP=2m0s
	Discovery timeout


.SH OPTIONS INHERITED FROM PARENT COMMANDS
\fB--config\fP=""
	Config file (default $HOME/.config/shelly/config.yaml)

.PP
\fB--log-categories\fP=""
	Filter logs by category (comma-separated: network,api,device,config,auth,plugin)

.PP
\fB--log-json\fP[=false]
	Output logs in JSON format

.PP
\fB--no-color\fP[=false]
	Disable colored output

.PP
\fB--no-headers\fP[=false]
	Hide table headers in output

.PP
\fB-o\fP, \fB--output\fP="table"
	Output format (table, json, yaml, template)

.PP
\fB--plain\fP[=false]
	Disable borders and colors (machine-readable output)

.PP
\fB-q\fP, \fB--quiet\fP[=false]
	Suppress non-essential output

.PP
\fB--template\fP=""
	Go template string for output (use with -o template)

.PP
\fB-v\fP, \fB--verbose\fP[=0]
	Increase verbosity (-v=info, -vv=debug, -vvv=trace)


.SH EXAMPLE
.EX
  # Discover devices via HTTP scan (default, auto-detects subnet)
  shelly discover

  # Specify subnet for HTTP scan
  shelly discover --subnet 192.168.1.0/24

  # Use mDNS instead of HTTP scan
  shelly discover --method mdns

  # Use BLE discovery
  shelly discover --method ble

  # Auto-register discovered devices
  shelly discover --register

  # Skip plugin detection (Shelly-only)
  shelly discover --skip-plugins

  # Discover only Tasmota devices
  shelly discover --platform tasmota
.EE


.SH SEE ALSO
\fBshelly(1)\fP, \fBshelly-discover-ble(1)\fP, \fBshelly-discover-coiot(1)\fP, \fBshelly-discover-http(1)\fP, \fBshelly-discover-mdns(1)\fP
