.nh
.TH "SHELLY" "1" "Dec 2025" "Shelly CLI" "User Commands"

.SH NAME
shelly-energy-history - Show energy consumption history


.SH SYNOPSIS
\fBshelly energy history  [id] [flags]\fP


.SH DESCRIPTION
Retrieve and display historical energy consumption data.

.PP
Shows voltage, current, power, and energy measurements stored by the
device over time (up to 60 days of 1-minute interval data).

.PP
Works with:
  - EM components (3-phase energy monitors)
  - EM1 components (single-phase energy monitors)

.PP
The device must have EMData or EM1Data components that store historical
measurements. Not all Shelly devices support historical data storage.


.SH OPTIONS
\fB--from\fP=""
	Start time (RFC3339 or YYYY-MM-DD)

.PP
\fB-h\fP, \fB--help\fP[=false]
	help for history

.PP
\fB--limit\fP=0
	Limit number of data points (0 = no limit)

.PP
\fB-p\fP, \fB--period\fP=""
	Time period (hour, day, week, month)

.PP
\fB--to\fP=""
	End time (RFC3339 or YYYY-MM-DD)

.PP
\fB--type\fP="auto"
	Component type (auto, em, em1)


.SH OPTIONS INHERITED FROM PARENT COMMANDS
\fB--config\fP=""
	Config file (default $HOME/.config/shelly/config.yaml)

.PP
\fB--log-categories\fP=""
	Filter logs by category (comma-separated: network,api,device,config,auth,plugin)

.PP
\fB--log-json\fP[=false]
	Output logs in JSON format

.PP
\fB--no-color\fP[=false]
	Disable colored output

.PP
\fB-o\fP, \fB--output\fP="table"
	Output format (table, json, yaml, template)

.PP
\fB-q\fP, \fB--quiet\fP[=false]
	Suppress non-essential output

.PP
\fB--template\fP=""
	Go template string for output (use with -o template)

.PP
\fB-v\fP, \fB--verbose\fP[=0]
	Increase verbosity (-v=info, -vv=debug, -vvv=trace)


.SH EXAMPLE
.EX
  # Show last 24 hours of energy data
  shelly energy history shelly-3em-pro

  # Show specific time range
  shelly energy history shelly-em --from "2025-01-01" --to "2025-01-07"

  # Show last week for specific component
  shelly energy history shelly-3em-pro 0 --period week

  # Limit number of records shown
  shelly energy history shelly-em --limit 100
.EE


.SH SEE ALSO
\fBshelly-energy(1)\fP
