{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://github.com/tj-smith47/shelly-cli/cfg/config.schema.json",
  "title": "Shelly CLI Configuration",
  "description": "Configuration schema for the Shelly CLI tool",
  "type": "object",
  "properties": {
    "output": {
      "type": "string",
      "description": "Default output format for commands",
      "enum": ["table", "json", "yaml", "text", "template"],
      "default": "table"
    },
    "color": {
      "type": "boolean",
      "description": "Enable colored output",
      "default": true
    },
    "theme": {
      "description": "Color theme for CLI output. Can be a theme name (string) or a theme configuration object.",
      "oneOf": [
        {
          "type": "string",
          "description": "Theme name (280+ themes available)",
          "examples": ["dracula", "nord", "tokyo-night", "gruvbox", "catppuccin", "one-dark", "solarized-dark"]
        },
        {
          "$ref": "#/$defs/themeConfig"
        }
      ],
      "default": "dracula"
    },
    "api_mode": {
      "type": "string",
      "description": "API mode for device communication",
      "enum": ["local", "cloud", "auto"],
      "default": "local"
    },
    "verbosity": {
      "type": "integer",
      "description": "Verbosity level (0=silent, 1=info, 2=debug, 3=trace). Can be set via -v/-vv/-vvv flags.",
      "minimum": 0,
      "maximum": 3,
      "default": 0
    },
    "log": {
      "type": "object",
      "description": "Logging settings for debugging",
      "properties": {
        "json": {
          "type": "boolean",
          "description": "Output logs in JSON format for machine parsing",
          "default": false
        },
        "categories": {
          "type": "string",
          "description": "Filter logs by category (comma-separated). Available: network, config, device, api, auth, plugin, discovery, firmware",
          "examples": ["network,api", "device,config", ""],
          "default": ""
        }
      },
      "additionalProperties": false
    },
    "quiet": {
      "type": "boolean",
      "description": "Suppress non-essential output",
      "default": false
    },
    "editor": {
      "type": "string",
      "description": "Preferred editor command for 'shelly config edit'. Falls back to $EDITOR, $VISUAL, then nano.",
      "examples": ["vim", "code", "nano", "emacs"]
    },
    "telemetry": {
      "type": "boolean",
      "description": "Opt-in anonymous usage telemetry. When enabled, sends anonymous command usage statistics (command name, success/failure) to help improve the CLI. No device information, IP addresses, or personal data is collected.",
      "default": false
    },
    "integrator": {
      "type": "object",
      "description": "Shelly Integrator API credentials for OEM/partner integrations. Environment variables SHELLY_INTEGRATOR_TAG and SHELLY_INTEGRATOR_TOKEN take precedence.",
      "properties": {
        "tag": {
          "type": "string",
          "description": "Integrator tag (partner identifier)"
        },
        "token": {
          "type": "string",
          "description": "Integrator API token"
        }
      },
      "additionalProperties": false
    },
    "discovery": {
      "type": "object",
      "description": "Device discovery settings",
      "properties": {
        "timeout": {
          "type": "string",
          "description": "Discovery timeout (e.g., '10s', '1m')",
          "pattern": "^[0-9]+(s|m|h)$",
          "default": "10s"
        },
        "mdns": {
          "type": "boolean",
          "description": "Enable mDNS discovery",
          "default": true
        },
        "ble": {
          "type": "boolean",
          "description": "Enable Bluetooth LE discovery",
          "default": false
        },
        "coiot": {
          "type": "boolean",
          "description": "Enable CoIoT discovery",
          "default": false
        },
        "network": {
          "type": "string",
          "description": "Default subnet for network scanning (CIDR notation)",
          "pattern": "^([0-9]{1,3}\\.){3}[0-9]{1,3}/[0-9]{1,2}$",
          "examples": ["192.168.1.0/24", "10.0.0.0/24"]
        }
      },
      "additionalProperties": false
    },
    "cloud": {
      "type": "object",
      "description": "Shelly Cloud API settings",
      "properties": {
        "enabled": {
          "type": "boolean",
          "description": "Enable Shelly Cloud integration",
          "default": false
        },
        "email": {
          "type": "string",
          "description": "Shelly Cloud account email",
          "format": "email"
        },
        "access_token": {
          "type": "string",
          "description": "Shelly Cloud access token (do not edit manually)"
        },
        "refresh_token": {
          "type": "string",
          "description": "Shelly Cloud refresh token (do not edit manually)"
        },
        "server_url": {
          "type": "string",
          "description": "Shelly Cloud server URL",
          "format": "uri",
          "default": "https://shelly-api.shelly.cloud"
        }
      },
      "additionalProperties": false
    },
    "devices": {
      "type": "object",
      "description": "Registered devices",
      "additionalProperties": {
        "$ref": "#/$defs/device"
      }
    },
    "aliases": {
      "type": "object",
      "description": "Command aliases",
      "additionalProperties": {
        "$ref": "#/$defs/alias"
      }
    },
    "groups": {
      "type": "object",
      "description": "Device groups",
      "additionalProperties": {
        "$ref": "#/$defs/group"
      }
    },
    "scenes": {
      "type": "object",
      "description": "Saved scenes",
      "additionalProperties": {
        "$ref": "#/$defs/scene"
      }
    },
    "templates": {
      "type": "object",
      "description": "Reusable configuration templates for devices and scripts",
      "properties": {
        "device": {
          "type": "object",
          "description": "Device configuration templates",
          "additionalProperties": {
            "$ref": "#/$defs/deviceTemplate"
          }
        },
        "script": {
          "type": "object",
          "description": "Script templates for device automation",
          "additionalProperties": {
            "$ref": "#/$defs/scriptTemplate"
          }
        }
      },
      "additionalProperties": false
    },
    "alerts": {
      "type": "object",
      "description": "Device monitoring alerts",
      "additionalProperties": {
        "$ref": "#/$defs/alert"
      }
    },
    "plugins": {
      "type": "object",
      "description": "Plugin system settings",
      "properties": {
        "enabled": {
          "type": "boolean",
          "description": "Enable plugin system",
          "default": false
        },
        "path": {
          "type": "array",
          "description": "Additional plugin search paths",
          "items": {
            "type": "string"
          }
        }
      },
      "additionalProperties": false
    },
    "ratelimit": {
      "type": "object",
      "description": "Rate limiting settings to prevent overloading Shelly devices. Gen1 (ESP8266) supports max 2 concurrent connections, Gen2 (ESP32) supports max 5 concurrent transactions.",
      "properties": {
        "gen1": {
          "$ref": "#/$defs/generationRateLimitConfig",
          "description": "Rate limiting for Gen1 (ESP8266) devices"
        },
        "gen2": {
          "$ref": "#/$defs/generationRateLimitConfig",
          "description": "Rate limiting for Gen2 (ESP32) devices"
        },
        "global": {
          "$ref": "#/$defs/globalRateLimitConfig",
          "description": "Global rate limiting settings"
        }
      },
      "additionalProperties": false
    },
    "tui": {
      "type": "object",
      "description": "TUI dashboard settings",
      "properties": {
        "refresh_interval": {
          "type": "integer",
          "description": "Legacy refresh interval in seconds (deprecated, use 'refresh' for generation-aware intervals)",
          "minimum": 1,
          "maximum": 300,
          "default": 5
        },
        "refresh": {
          "$ref": "#/$defs/tuiRefreshConfig",
          "description": "Adaptive refresh intervals based on device generation and state"
        },
        "keybindings": {
          "$ref": "#/$defs/keybindings"
        },
        "theme": {
          "description": "TUI-specific theme (independent, completely replaces main theme when set)",
          "oneOf": [
            {
              "type": "string",
              "description": "Theme name for TUI"
            },
            {
              "$ref": "#/$defs/themeConfig"
            }
          ]
        },
        "events": {
          "$ref": "#/$defs/tuiEventsConfig",
          "description": "Event filtering settings for the TUI events panel"
        }
      },
      "additionalProperties": false
    }
  },
  "additionalProperties": false,
  "$defs": {
    "device": {
      "type": "object",
      "description": "A registered Shelly device",
      "required": ["address"],
      "properties": {
        "name": {
          "type": "string",
          "description": "Device friendly name"
        },
        "address": {
          "type": "string",
          "description": "Device IP address or hostname",
          "examples": ["192.168.1.50", "shelly-plus-1pm.local"]
        },
        "generation": {
          "type": "integer",
          "description": "Device generation (1, 2, or 3)",
          "enum": [1, 2, 3]
        },
        "type": {
          "type": "string",
          "description": "Device type",
          "examples": ["switch", "plug", "light", "dimmer", "cover", "sensor"]
        },
        "model": {
          "type": "string",
          "description": "Device model identifier",
          "examples": ["SHSW-PM", "SHPLG-S", "SHSW-1", "SHDM-2", "SHBDUO-1"]
        },
        "auth": {
          "type": "object",
          "description": "Device authentication credentials",
          "properties": {
            "username": {
              "type": "string",
              "description": "Authentication username",
              "default": "admin"
            },
            "password": {
              "type": "string",
              "description": "Authentication password"
            }
          },
          "required": ["password"],
          "additionalProperties": false
        }
      },
      "additionalProperties": false
    },
    "alias": {
      "type": "object",
      "description": "A command alias",
      "required": ["command"],
      "properties": {
        "name": {
          "type": "string",
          "description": "Alias name"
        },
        "command": {
          "type": "string",
          "description": "Command to execute (use $1, $2, etc. for arguments)",
          "examples": ["switch on kitchen", "device list --output json", "batch toggle $@"]
        },
        "shell": {
          "type": "boolean",
          "description": "Execute command via shell (enables pipes, redirects)",
          "default": false
        }
      },
      "additionalProperties": false
    },
    "group": {
      "type": "object",
      "description": "A device group",
      "required": ["devices"],
      "properties": {
        "name": {
          "type": "string",
          "description": "Group name"
        },
        "devices": {
          "type": "array",
          "description": "List of device names or addresses in this group",
          "items": {
            "type": "string"
          },
          "minItems": 1
        }
      },
      "additionalProperties": false
    },
    "scene": {
      "type": "object",
      "description": "A saved scene configuration",
      "required": ["actions"],
      "properties": {
        "name": {
          "type": "string",
          "description": "Scene name"
        },
        "description": {
          "type": "string",
          "description": "Scene description"
        },
        "actions": {
          "type": "array",
          "description": "Actions to execute when scene is activated",
          "items": {
            "$ref": "#/$defs/sceneAction"
          },
          "minItems": 1
        }
      },
      "additionalProperties": false
    },
    "sceneAction": {
      "type": "object",
      "description": "A single action within a scene",
      "required": ["device", "method"],
      "properties": {
        "device": {
          "type": "string",
          "description": "Device name or address"
        },
        "method": {
          "type": "string",
          "description": "RPC method to call",
          "examples": ["Switch.Set", "Light.Set", "Cover.Open", "Cover.Close"]
        },
        "params": {
          "type": "object",
          "description": "Parameters for the RPC method",
          "additionalProperties": true
        }
      },
      "additionalProperties": false
    },
    "deviceTemplate": {
      "type": "object",
      "description": "A reusable device configuration template",
      "required": ["name", "model", "generation", "config"],
      "properties": {
        "name": {
          "type": "string",
          "description": "Template name"
        },
        "description": {
          "type": "string",
          "description": "Template description"
        },
        "model": {
          "type": "string",
          "description": "Device model this template applies to",
          "examples": ["SHSW-PM", "SHPLG-S", "SHDM-2"]
        },
        "app": {
          "type": "string",
          "description": "Device app type (for Gen2+)",
          "examples": ["switch", "light", "cover"]
        },
        "generation": {
          "type": "integer",
          "description": "Device generation",
          "enum": [1, 2, 3]
        },
        "config": {
          "type": "object",
          "description": "Device configuration to apply",
          "additionalProperties": true
        },
        "created_at": {
          "type": "string",
          "description": "Template creation timestamp"
        },
        "source_device": {
          "type": "string",
          "description": "Device this template was created from"
        }
      },
      "additionalProperties": false
    },
    "scriptTemplate": {
      "type": "object",
      "description": "A reusable JavaScript script template",
      "required": ["name", "code"],
      "properties": {
        "name": {
          "type": "string",
          "description": "Script template name"
        },
        "description": {
          "type": "string",
          "description": "Script description"
        },
        "code": {
          "type": "string",
          "description": "JavaScript code for the script"
        },
        "category": {
          "type": "string",
          "description": "Script category",
          "examples": ["automation", "monitoring", "utility"]
        },
        "variables": {
          "type": "array",
          "description": "Configurable variables in the script",
          "items": {
            "$ref": "#/$defs/scriptVariable"
          }
        },
        "models": {
          "type": "array",
          "description": "Compatible device models (empty = all)",
          "items": {
            "type": "string"
          }
        },
        "min_gen": {
          "type": "integer",
          "description": "Minimum device generation required",
          "minimum": 2
        },
        "author": {
          "type": "string",
          "description": "Script author"
        },
        "version": {
          "type": "string",
          "description": "Script version"
        }
      },
      "additionalProperties": false
    },
    "scriptVariable": {
      "type": "object",
      "description": "A configurable variable in a script template",
      "required": ["name"],
      "properties": {
        "name": {
          "type": "string",
          "description": "Variable name in code (e.g., THRESHOLD)"
        },
        "description": {
          "type": "string",
          "description": "Variable description"
        },
        "type": {
          "type": "string",
          "description": "Variable type",
          "enum": ["string", "number", "boolean"]
        },
        "default": {
          "description": "Default value for the variable"
        },
        "required": {
          "type": "boolean",
          "description": "Whether this variable must be set",
          "default": false
        }
      },
      "additionalProperties": false
    },
    "alert": {
      "type": "object",
      "description": "A device monitoring alert",
      "required": ["name", "device", "condition", "action"],
      "properties": {
        "name": {
          "type": "string",
          "description": "Alert name"
        },
        "description": {
          "type": "string",
          "description": "Alert description"
        },
        "device": {
          "type": "string",
          "description": "Device to monitor"
        },
        "condition": {
          "type": "string",
          "description": "Alert condition",
          "examples": ["offline", "power>100", "temperature>30"]
        },
        "action": {
          "type": "string",
          "description": "Action to take when alert triggers",
          "examples": ["notify", "webhook:http://...", "command:..."]
        },
        "enabled": {
          "type": "boolean",
          "description": "Whether the alert is enabled",
          "default": true
        },
        "snoozed_until": {
          "type": "string",
          "description": "ISO timestamp until which the alert is snoozed"
        },
        "created_at": {
          "type": "string",
          "description": "Alert creation timestamp"
        }
      },
      "additionalProperties": false
    },
    "keybindings": {
      "type": "object",
      "description": "TUI keyboard bindings",
      "properties": {
        "up": {
          "type": "array",
          "items": { "type": "string" },
          "default": ["up", "k"]
        },
        "down": {
          "type": "array",
          "items": { "type": "string" },
          "default": ["down", "j"]
        },
        "left": {
          "type": "array",
          "items": { "type": "string" },
          "default": ["left", "h"]
        },
        "right": {
          "type": "array",
          "items": { "type": "string" },
          "default": ["right", "l"]
        },
        "page_up": {
          "type": "array",
          "items": { "type": "string" },
          "default": ["pgup", "ctrl+u"]
        },
        "page_down": {
          "type": "array",
          "items": { "type": "string" },
          "default": ["pgdown", "ctrl+d"]
        },
        "home": {
          "type": "array",
          "items": { "type": "string" },
          "default": ["home", "g"]
        },
        "end": {
          "type": "array",
          "items": { "type": "string" },
          "default": ["end", "G"]
        },
        "enter": {
          "type": "array",
          "items": { "type": "string" },
          "default": ["enter"]
        },
        "escape": {
          "type": "array",
          "items": { "type": "string" },
          "default": ["esc"]
        },
        "refresh": {
          "type": "array",
          "items": { "type": "string" },
          "default": ["r", "ctrl+r"]
        },
        "filter": {
          "type": "array",
          "items": { "type": "string" },
          "default": ["/"]
        },
        "command": {
          "type": "array",
          "items": { "type": "string" },
          "default": [":"]
        },
        "help": {
          "type": "array",
          "items": { "type": "string" },
          "default": ["?"]
        },
        "quit": {
          "type": "array",
          "items": { "type": "string" },
          "default": ["q", "ctrl+c"]
        },
        "toggle": {
          "type": "array",
          "items": { "type": "string" },
          "default": ["space", "t"]
        },
        "turn_on": {
          "type": "array",
          "items": { "type": "string" },
          "default": ["1", "o"]
        },
        "turn_off": {
          "type": "array",
          "items": { "type": "string" },
          "default": ["0", "x"]
        },
        "reboot": {
          "type": "array",
          "items": { "type": "string" },
          "default": ["R"]
        },
        "tab": {
          "type": "array",
          "items": { "type": "string" },
          "default": ["tab"]
        },
        "shift_tab": {
          "type": "array",
          "items": { "type": "string" },
          "default": ["shift+tab"]
        },
        "view1": {
          "type": "array",
          "items": { "type": "string" },
          "default": ["1"]
        },
        "view2": {
          "type": "array",
          "items": { "type": "string" },
          "default": ["2"]
        },
        "view3": {
          "type": "array",
          "items": { "type": "string" },
          "default": ["3"]
        },
        "view4": {
          "type": "array",
          "items": { "type": "string" },
          "default": ["4"]
        }
      },
      "additionalProperties": false
    },
    "themeConfig": {
      "type": "object",
      "description": "Theme configuration with optional color overrides",
      "properties": {
        "name": {
          "type": "string",
          "description": "Base theme name (280+ themes available)",
          "examples": ["dracula", "nord", "tokyo-night", "gruvbox", "catppuccin", "one-dark", "solarized-dark"]
        },
        "file": {
          "type": "string",
          "description": "Path to external theme file (YAML format)"
        },
        "colors": {
          "type": "object",
          "description": "Color overrides (hex format)",
          "properties": {
            "foreground": {
              "type": "string",
              "pattern": "^#[0-9a-fA-F]{6}$",
              "description": "Foreground color"
            },
            "background": {
              "type": "string",
              "pattern": "^#[0-9a-fA-F]{6}$",
              "description": "Background color"
            },
            "green": {
              "type": "string",
              "pattern": "^#[0-9a-fA-F]{6}$",
              "description": "Green color (success, online status)"
            },
            "red": {
              "type": "string",
              "pattern": "^#[0-9a-fA-F]{6}$",
              "description": "Red color (error, offline status)"
            },
            "yellow": {
              "type": "string",
              "pattern": "^#[0-9a-fA-F]{6}$",
              "description": "Yellow color (warning, updating status)"
            },
            "blue": {
              "type": "string",
              "pattern": "^#[0-9a-fA-F]{6}$",
              "description": "Blue color (info status)"
            },
            "cyan": {
              "type": "string",
              "pattern": "^#[0-9a-fA-F]{6}$",
              "description": "Cyan color (highlight)"
            },
            "purple": {
              "type": "string",
              "pattern": "^#[0-9a-fA-F]{6}$",
              "description": "Purple color (titles)"
            },
            "bright_black": {
              "type": "string",
              "pattern": "^#[0-9a-fA-F]{6}$",
              "description": "Bright black color (dim text)"
            }
          },
          "additionalProperties": false
        },
        "semantic": {
          "$ref": "#/$defs/semanticOverrides"
        }
      },
      "additionalProperties": false
    },
    "semanticOverrides": {
      "type": "object",
      "description": "Semantic color overrides for role-based theming (hex format)",
      "properties": {
        "primary": {
          "type": "string",
          "pattern": "^#[0-9a-fA-F]{6}$",
          "description": "Primary actions and highlights"
        },
        "secondary": {
          "type": "string",
          "pattern": "^#[0-9a-fA-F]{6}$",
          "description": "Supporting UI elements"
        },
        "highlight": {
          "type": "string",
          "pattern": "^#[0-9a-fA-F]{6}$",
          "description": "Emphasis and selection"
        },
        "muted": {
          "type": "string",
          "pattern": "^#[0-9a-fA-F]{6}$",
          "description": "Disabled or less important content"
        },
        "text": {
          "type": "string",
          "pattern": "^#[0-9a-fA-F]{6}$",
          "description": "Primary text color"
        },
        "alt_text": {
          "type": "string",
          "pattern": "^#[0-9a-fA-F]{6}$",
          "description": "Secondary/dimmed text"
        },
        "success": {
          "type": "string",
          "pattern": "^#[0-9a-fA-F]{6}$",
          "description": "Successful operations"
        },
        "warning": {
          "type": "string",
          "pattern": "^#[0-9a-fA-F]{6}$",
          "description": "Warnings and cautions"
        },
        "error": {
          "type": "string",
          "pattern": "^#[0-9a-fA-F]{6}$",
          "description": "Errors and failures"
        },
        "info": {
          "type": "string",
          "pattern": "^#[0-9a-fA-F]{6}$",
          "description": "Informational messages"
        },
        "background": {
          "type": "string",
          "pattern": "^#[0-9a-fA-F]{6}$",
          "description": "Main background color"
        },
        "alt_background": {
          "type": "string",
          "pattern": "^#[0-9a-fA-F]{6}$",
          "description": "Alternate background color"
        },
        "online": {
          "type": "string",
          "pattern": "^#[0-9a-fA-F]{6}$",
          "description": "Device online status"
        },
        "offline": {
          "type": "string",
          "pattern": "^#[0-9a-fA-F]{6}$",
          "description": "Device offline status"
        },
        "updating": {
          "type": "string",
          "pattern": "^#[0-9a-fA-F]{6}$",
          "description": "Device updating status"
        },
        "idle": {
          "type": "string",
          "pattern": "^#[0-9a-fA-F]{6}$",
          "description": "Device idle/inactive status"
        },
        "table_header": {
          "type": "string",
          "pattern": "^#[0-9a-fA-F]{6}$",
          "description": "Table header color"
        },
        "table_cell": {
          "type": "string",
          "pattern": "^#[0-9a-fA-F]{6}$",
          "description": "Table cell color"
        },
        "table_alt_cell": {
          "type": "string",
          "pattern": "^#[0-9a-fA-F]{6}$",
          "description": "Alternating table cell color"
        },
        "table_border": {
          "type": "string",
          "pattern": "^#[0-9a-fA-F]{6}$",
          "description": "Table border color"
        }
      },
      "additionalProperties": false
    },
    "generationRateLimitConfig": {
      "type": "object",
      "description": "Rate limiting settings for a specific device generation",
      "properties": {
        "min_interval": {
          "type": "string",
          "description": "Minimum time between requests to the same device (e.g., '2s', '500ms')",
          "pattern": "^[0-9]+(ms|s|m)$",
          "examples": ["2s", "500ms"]
        },
        "max_concurrent": {
          "type": "integer",
          "description": "Maximum in-flight requests per device",
          "minimum": 1,
          "maximum": 10
        },
        "circuit_threshold": {
          "type": "integer",
          "description": "Number of consecutive failures before circuit breaker opens",
          "minimum": 1,
          "maximum": 20
        }
      },
      "additionalProperties": false
    },
    "globalRateLimitConfig": {
      "type": "object",
      "description": "Global rate limiting settings across all devices",
      "properties": {
        "max_concurrent": {
          "type": "integer",
          "description": "Total concurrent requests across all devices",
          "minimum": 1,
          "maximum": 50,
          "default": 5
        },
        "circuit_open_duration": {
          "type": "string",
          "description": "How long a circuit stays open before testing recovery (e.g., '60s', '2m')",
          "pattern": "^[0-9]+(ms|s|m)$",
          "default": "60s"
        },
        "circuit_success_threshold": {
          "type": "integer",
          "description": "Number of consecutive successes needed to close circuit",
          "minimum": 1,
          "maximum": 10,
          "default": 2
        }
      },
      "additionalProperties": false
    },
    "tuiRefreshConfig": {
      "type": "object",
      "description": "Adaptive refresh intervals for TUI based on device generation and online status",
      "properties": {
        "gen1_online": {
          "type": "string",
          "description": "Refresh interval for online Gen1 devices (e.g., '15s')",
          "pattern": "^[0-9]+(ms|s|m)$",
          "default": "15s"
        },
        "gen1_offline": {
          "type": "string",
          "description": "Refresh interval for offline Gen1 devices (e.g., '60s')",
          "pattern": "^[0-9]+(ms|s|m)$",
          "default": "60s"
        },
        "gen2_online": {
          "type": "string",
          "description": "Refresh interval for online Gen2 devices (e.g., '5s')",
          "pattern": "^[0-9]+(ms|s|m)$",
          "default": "5s"
        },
        "gen2_offline": {
          "type": "string",
          "description": "Refresh interval for offline Gen2 devices (e.g., '30s')",
          "pattern": "^[0-9]+(ms|s|m)$",
          "default": "30s"
        },
        "focused_boost": {
          "type": "string",
          "description": "Faster refresh interval for the currently focused device (e.g., '3s')",
          "pattern": "^[0-9]+(ms|s|m)$",
          "default": "3s"
        }
      },
      "additionalProperties": false
    },
    "tuiEventsConfig": {
      "type": "object",
      "description": "Event filtering settings for the TUI events panel",
      "properties": {
        "filtered_events": {
          "type": "array",
          "description": "List of event names to filter out from the events panel. Supports glob patterns (e.g., 'ble.*' filters all BLE events).",
          "items": {
            "type": "string"
          },
          "default": ["ble.scan_result"],
          "examples": [["ble.scan_result", "ble.*"], ["button_push"]]
        },
        "filtered_components": {
          "type": "array",
          "description": "List of component types to filter out (e.g., 'sys', 'wifi', 'cloud'). These high-frequency status changes are filtered by default.",
          "items": {
            "type": "string"
          },
          "default": ["sys", "wifi", "cloud", "ts"],
          "examples": [["sys", "wifi"], ["cloud"]]
        },
        "max_items": {
          "type": "integer",
          "description": "Maximum number of events to keep in each list (user/system events)",
          "minimum": 10,
          "maximum": 1000,
          "default": 100
        }
      },
      "additionalProperties": false
    }
  }
}
